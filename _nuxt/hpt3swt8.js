import{a as Y,_ as nt,b as ct,c as st,d as lt,e as it}from"./d6autrtn.js";import{_ as B,l as $,E as Q,H as P,m as rt,n as ut,o as r,c as g,a as e,t as v,s as n,v as L,b as u,h as b,U as dt,B as ht,V as pt,p as _t,f as ft,y as J,x as y,r as M,i as N,q as U,d as mt,P as O,A as gt,j as w,F as ot,G as at,W as X,X as vt,L as yt,Y as bt,w as D,S as kt,T as $t,I as wt,Z as Tt,$ as j,a0 as Ct,a1 as St}from"./hg3sa2hx.js";const It=t=>(_t("data-v-2e5798b9"),t=t(),ft(),t),Pt={class:"intro h-fulls w-fulls"},Ot={class:"intro-header"},Mt={class:"p-l c-black"},Bt={class:"intro-content"},Et={class:"intro-content-center"},Lt=["src","width","height"],Wt={class:"intro-footer"},Rt=It(()=>e("p",{class:"intro-scroll__label p-s"},"Scroll",-1)),At={__name:"Intro",setup(t){const p=$("elPicture"),o=$("elNumberTop"),i=$("elTitleTop"),s=$("elTitleLeft"),f=$("elTitleRight"),_=$("elFooter"),k=$("elScroll"),E=$("elScrollArrow"),T=Q(()=>P("home-photo-portrait"));function d(){const a=b.timeline(),l=dt.value?.62:0;a.add(o.value.transitionIn(l),0),a.add(i.value.transitionIn(l+.08),0),a.add(s.value.transitionIn(l+.16),0),a.add(f.value.transitionIn(l+.16),0),a.fromTo(p.value,{clipPath:"inset(100% 0 0)"},{clipPath:"inset(0% 0 0)",duration:1.5,ease:"expo.inOut"},l+.34),a.add(_.value.transitionIn(l+.34),0),a.from(k.value,{opacity:0,duration:1.2,ease:"sine.inOut"},l+1.08),a.add(E.value.transitionIn(),l+1.18)}return rt(async()=>{await ut(),d()}),(a,l)=>{var C,S,I,F,W,Z;const h=ht,m=pt;return r(),g("section",Pt,[e("div",Ot,[e("p",Mt,v((C=n(L))==null?void 0:C.throughThisLens.intro.header.copy),1)]),e("div",Bt,[u(h,{ref_key:"elNumberTop",ref:o,tag:"p",class:"intro-content__pre label-serif c-black",text:(S=n(L))==null?void 0:S.throughThisLens.intro.content.pretitle},null,8,["text"]),u(h,{ref_key:"elTitleTop",ref:i,tag:"p",class:"display-b c-black",text:(I=n(L))==null?void 0:I.throughThisLens.intro.content.title.top},null,8,["text"]),e("div",Et,[u(h,{ref_key:"elTitleLeft",ref:s,tag:"p",class:"display-b c-black",text:(F=n(L))==null?void 0:F.throughThisLens.intro.content.title.sideLeft},null,8,["text"]),e("img",{ref_key:"elPicture",ref:p,class:"intro-picture",fetchpriority:"high",src:n(T).src,width:n(T).naturalWidth,height:n(T).naturalHeight,alt:"profile picture"},null,8,Lt),u(h,{ref_key:"elTitleRight",ref:f,tag:"p",class:"display-b c-black",text:(W=n(L))==null?void 0:W.throughThisLens.intro.content.title.sideRight},null,8,["text"])])]),e("div",Wt,[u(h,{ref_key:"elFooter",ref:_,class:"footer-copy p-l c-black",tag:"p",text:(Z=n(L))==null?void 0:Z.throughThisLens.intro.footer.copy},null,8,["text"])]),e("div",{ref_key:"elScroll",ref:k,class:"intro-scroll c-grey"},[Rt,u(m,{ref_key:"elScrollArrow",ref:E,class:"intro-scroll__icon"},null,512)],512)])}}},Nt=B(At,[["__scopeId","data-v-2e5798b9"]]),Qt={key:0,class:"caption"},Ft={__name:"PhotoCaption",props:{caption:{type:String,default:null},alt:{type:Boolean,default:!1}},setup(t){return(p,o)=>t.caption?(r(),g("div",Qt,[e("p",{class:J(["decoration",t.alt?"c-white-50":"c-black-50"])},"IMAGE",2),e("p",{class:J(["caption-copy decoration-i",t.alt?"c-white":"c-black"])},v(`‘${t.caption}’`),3)])):y("",!0)}},G=B(Ft,[["__scopeId","data-v-465f403f"]]),c=Math.pow,H=Math.sqrt,R=Math.sin,K=Math.cos,A=Math.PI,z=1.70158,V=z*1.525,x=z+1,tt=2*A/3,et=2*A/4.5;function q(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}const jt={inQuad:function(t){return t*t},outQuad:function(t){return 1-(1-t)*(1-t)},inOutQuad:function(t){return t<.5?2*t*t:1-c(-2*t+2,2)/2},inCubic:function(t){return t*t*t},outCubic:function(t){return 1-c(1-t,3)},inOutCubic:function(t){return t<.5?4*t*t*t:1-c(-2*t+2,3)/2},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1-c(1-t,4)},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-c(-2*t+2,4)/2},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1-c(1-t,5)},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-c(-2*t+2,5)/2},inSine:function(t){return 1-K(t*A/2)},outSine:function(t){return R(t*A/2)},inOutSine:function(t){return-(K(A*t)-1)/2},inExpo:function(t){return t===0?0:c(2,10*t-10)},outExpo:function(t){return t===1?1:1-c(2,-10*t)},inOutExpo:function(t){return t===0?0:t===1?1:t<.5?c(2,20*t-10)/2:(2-c(2,-20*t+10))/2},inCirc:function(t){return 1-H(1-c(t,2))},outCirc:function(t){return H(1-c(t-1,2))},inOutCirc:function(t){return t<.5?(1-H(1-c(2*t,2)))/2:(H(1-c(-2*t+2,2))+1)/2},inBack:function(t){return x*t*t*t-z*t*t},outBack:function(t){return 1+x*c(t-1,3)+z*c(t-1,2)},inOutBack:function(t){return t<.5?c(2*t,2)*((V+1)*2*t-V)/2:(c(2*t-2,2)*((V+1)*(t*2-2)+V)+2)/2},inElastic:function(t){return t===0?0:t===1?1:-c(2,10*t-10)*R((t*10-10.75)*tt)},outElastic:function(t){return t===0?0:t===1?1:c(2,-10*t)*R((t*10-.75)*tt)+1},inOutElastic:function(t){return t===0?0:t===1?1:t<.5?-(c(2,20*t-10)*R((20*t-11.125)*et))/2:c(2,-20*t+10)*R((20*t-11.125)*et)/2+1},inBounce:function(t){return 1-q(1-t)},outBounce:q,inOutBounce:function(t){return t<.5?(1-q(1-2*t))/2:(1+q(2*t-1))/2}},Ht={class:"intro-photo h-full"},Vt=["src","width","height","alt"],qt={class:"intro-photo__content"},zt={class:"intro-photo__location label-serif c-white"},Gt={class:"intro-photo__title h4 c-white"},Dt={class:"intro-photo__coords p-s c-white"},Ut={class:"intro-content"},Xt={class:"intro-content__header p-s c-grey"},Yt={class:"header-number"},Zt={class:"intro-content__pretitle label-serif c-black"},Jt={__name:"ChapterIntro",props:{data:{type:Object,default:null},number:{type:String,default:""}},setup(t){const p=t,o=M(),i=M(1),s=Q(()=>{var _;return P((_=p.data)==null?void 0:_.cover.name)}),{progress:f}=Y(o);return N(f,_=>{const k=b.utils.mapRange(-1,.25,0,1,b.utils.clamp(-1,.25,_));i.value=b.utils.clamp(1,1.3,b.utils.mapRange(0,1,1.3,1,jt.outCubic(k)))}),(_,k)=>{var a,l,h,m,C,S,I;const E=G,T=nt,d=gt;return t.data?(r(),g("div",{key:0,ref_key:"elWrapper",ref:o,class:"chapter-intro w-full h-full"},[e("div",Ht,[e("div",{class:"intro-photo__container w-full h-full",style:U({"background-color":t.data.dominantColor})},[e("img",{class:"img-full",decoding:"async",src:n(s).src,width:n(s).naturalWidth,height:n(s).naturalHeight,alt:t.data.title,style:U({transform:`scale(${n(i)})`})},null,12,Vt),u(E,{class:"intro-photo__header",caption:t.data.cover.caption,alt:""},null,8,["caption"]),e("div",qt,[e("p",zt,v(t.data.location),1),e("h2",Gt,v(t.data.title),1),e("p",Dt,v(t.data.coords),1)])],4)]),e("div",Ut,[e("p",Xt,[mt("Chapter "),e("span",Yt,v(t.number),1)]),e("p",Zt,v((a=t.data)==null?void 0:a.intro.pre),1),(l=t.data.intro)!=null&&l.title?(r(),O(T,{key:0,tag:"h2",classes:"h4",class:"intro-content__title",text:(h=t.data)==null?void 0:h.intro.title,"image-src":(m=t.data)==null?void 0:m.intro.highlightPic},null,8,["text","image-src"])):y("",!0),(S=(C=t.data)==null?void 0:C.intro)!=null&&S.footer?(r(),O(d,{key:1,tag:"p",class:"intro-content__footer p-s c-black",text:(I=t.data)==null?void 0:I.intro.footer},null,8,["text"])):y("",!0)])],512)):y("",!0)}}},Kt=B(Jt,[["__scopeId","data-v-608995d4"]]),xt=["src","alt"],te={__name:"ChapterFull",props:{data:{type:Object,default:null}},setup(t){const p=M(),o=M(0),{progress:i}=Y(p);return N(i,s=>{w.value||(o.value=b.utils.clamp(-1,1,s)*15)}),N(w,s=>{s&&(o.value=0)}),(s,f)=>{const _=G;return r(),g("div",{ref_key:"elWrapper",ref:p,class:"chapter-full w-fulls"},[e("img",{class:"img-full",src:n(P)(t.data.name).src,alt:t.data.caption,style:U({transform:`translate3d(${n(o)}%, 0px, 0)`,"object-position":n(w)&&t.data.mobileCentering?t.data.mobileCentering:"50% 50%"})},null,12,xt),u(_,{class:"chapter-full__footer",caption:t.data.caption,alt:""},null,8,["caption"])],512)}}},ee=B(te,[["__scopeId","data-v-f1d4febc"]]),ne={key:0,class:"chapter-mid h-full"},oe={class:"chapter-mid__content h-full"},ae={class:"chapter-mid__photo2"},ce={class:"photo-wrapper w-full h-full"},se=["alt","src"],le={class:"chapter-mid__copy"},ie={class:"chapter-mid__copy-title h4"},re={key:1},ue={class:"chapter-mid__copy-subtitle p-l"},de={class:"chapter-mid__photo1"},he={class:"photo-wrapper w-full h-full"},pe=["alt","src"],_e={class:"chapter-mid__full-photo"},fe={class:"full-photo-wrapper photo-wrapper h-full"},me=["alt","src"],ge={__name:"ChapterMid",props:{data:{type:Object,default:null}},setup(t){const p=t,o=Q(()=>p.data.title.reduce((i,s)=>i+" "+s,""));return(i,s)=>{const f=G;return t.data?(r(),g("div",ne,[e("div",oe,[e("div",ae,[e("div",ce,[e("img",{class:"img-full",alt:t.data.photo2.caption,src:n(P)(t.data.photo2.name).src},null,8,se)]),u(f,{class:"photo2-caption",caption:t.data.photo2.caption},null,8,["caption"])]),e("div",le,[e("h3",ie,[n(w)?(r(),g("span",re,v(n(o)),1)):(r(!0),g(ot,{key:0},at(t.data.title,_=>(r(),g("span",{key:_},v(_),1))),128))]),e("p",ue,v(t.data.subtitle),1)]),e("div",de,[e("div",he,[e("img",{class:"img-full",alt:t.data.photo1.caption,src:n(P)(t.data.photo1.name).src},null,8,pe)]),u(f,{class:"photo1-caption",caption:t.data.photo1.caption},null,8,["caption"])])]),e("div",_e,[e("div",fe,[e("img",{class:"img-full",alt:t.data.photo3.caption,src:n(P)(t.data.photo3.name).src},null,8,me)]),u(f,{class:"full-photo-caption",caption:t.data.photo3.caption},null,8,["caption"])])])):y("",!0)}}},ve=B(ge,[["__scopeId","data-v-0ee4b446"]]),ye={key:0,class:"chapter-end h-full"},be={class:"chapter-end__title-wrapper h-full"},ke={class:"chapter-end__photo h-full"},$e={class:"chapter-end__photo-container"},we={class:"end-photo-wrapper photo-wrapper h-full"},Te=["alt","src"],Ce={class:"chapter-end__subtitle p-l"},Se={__name:"ChapterEnd",props:{data:{type:Object,default:null}},setup(t){return(p,o)=>{const i=nt,s=G;return t.data?(r(),g("div",ye,[e("div",be,[t.data.title?(r(),O(i,{key:0,tag:"h3",classes:"h4",class:"chapter-end__title",text:t.data.title,"image-src":t.data.highlightPic,"no-breaks":n(w)},null,8,["text","image-src","no-breaks"])):y("",!0)]),e("div",ke,[e("div",$e,[e("div",we,[e("img",{class:"img-full",alt:t.data.photo4.caption,src:n(P)(t.data.photo4.name).src},null,8,Te)]),u(s,{class:"end-photo-caption",caption:t.data.photo4.caption},null,8,["caption"])]),e("p",Ce,v(t.data.subtitle),1)])])):y("",!0)}}},Ie=B(Se,[["__scopeId","data-v-9c41bd37"]]),Pe={__name:"Chapter",props:{data:{type:Object,default:{}},index:{type:Number,default:0}},setup(t,{expose:p}){const o=t,i=M(),{startPos:s}=Y(i),f=Q(()=>`${X[o.index]}`);return p({startPos:s}),(_,k)=>(r(),g("section",{ref_key:"elWrapper",ref:i,class:"chapter"},[u(Kt,{data:t.data,number:n(f)},null,8,["data","number"]),t.data.full?(r(),O(ee,{key:0,data:t.data.full},null,8,["data"])):y("",!0),t.data.mid?(r(),O(ve,{key:1,data:t.data.mid},null,8,["data"])):y("",!0),t.data.end?(r(),O(Ie,{key:2,data:t.data.end},null,8,["data"])):y("",!0)],512))}},Oe=B(Pe,[["__scopeId","data-v-9f109330"]]),Me={key:0,class:"page"},Be={class:"page-content"},We={__name:"through-this-lens",props:{loaded:{type:Boolean,default:!1}},setup(t){const p=t,o=M(),i=M(null),s=vt(),f=yt(),{transitionState:_}=Tt(),k=Q(()=>w.value?0:bt.value);function E(d=()=>{}){const a=b.timeline();a.to(o.value.elMain,{opacity:0,duration:.3,ease:"sine.inOut"},0),a.set({},{onComplete:()=>d&&d()},.3),a.to(o.value.elMain,{opacity:1,duration:.6,ease:"sine.inOut"},.5)}async function T(){var l;const d=i.value&&X.findIndex(h=>h===i.value)-1,a=(d!==null?((l=f.value[d])==null?void 0:l.startPos)-k.value:0)||0;j.value&&!w.value?E(()=>o.value.scrollTo(a,!j.value)):w.value?b.to(window,{duration:.01,scrollTo:{y:a}}):o.value.scrollTo(a,!j.value),j.value=!1}return N([kt,$t,wt],([d,a,l])=>{var h,m;d||a||l?(h=o.value)==null||h.pause():(m=o.value)==null||m.play()}),N([()=>s.hash,()=>p.loaded,()=>_.transitionEnter,()=>o.value,f],([d,a,l,h,m])=>{!a||!h||!m||m.length<=0||(d&&(i.value=d.substring(1)),b.delayedCall(.1,T))},{immediate:!0}),(d,a)=>{const l=st,h=lt,m=Nt,C=Oe,S=it,I=ct;return t.loaded?(r(),g("div",Me,[e("div",Be,[u(I,{ref_key:"elScroller",ref:o},{"external-pre":D(()=>[u(l,{light:""}),u(h,{light:""})]),external:D(()=>[u(S)]),default:D(()=>[u(m),(r(!0),g(ot,null,at(n(Ct),(F,W)=>(r(),O(C,{ref_for:!0,ref:n(f).set,key:`${(d._.provides[St]||d.$route).name}item.title`,data:F,index:W+1,id:n(X)[W+1]},null,8,["data","index","id"]))),128))]),_:1},512)])])):y("",!0)}}};export{We as default};
